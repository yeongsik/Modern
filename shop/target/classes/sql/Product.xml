<?xml version="1.0" encoding="UTF-8" ?>
 <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Product">
	
	
	<!-- 상품목록 -->
	<!-- top -->
	<select id="productlist_top_tshirts" parameterType="int" resultType="product">
		<![CDATA[
		select * from 
		 (select rownum rnum, p.* from
	  	 (select * from product where category_id = 'top_tshirts' order by product_date desc) p ) 
	   		 where rnum >= ((#{page}-1) * 9+1)  and rnum <= (#{page} * 9)
		]]>
	</select>
	<select id="productlist_top_shirts" parameterType="int" resultType="product">
		<![CDATA[
		select * from 
		 (select rownum rnum, p.* from
	  	 (select * from product where category_id = 'top_shirts' order by product_date desc) p) 
	   		 where rnum >= ((#{page}-1) * 9+1)  and rnum <= (#{page} * 9)
		]]>
	</select>
	<select id="productlist_top_knit" parameterType="int" resultType="product">
		<![CDATA[
		select * from 
		 (select rownum rnum,p.* from
	  	 (select * from product left outer join product_detail on product.product_detail = product_detail.product_detail
	  	 where category_id = 'top_knit' order by product_date desc) p ) 
	   		 where rnum >= ((#{page}-1) * 9+1)  and rnum <= (#{page} * 9)
		]]>
	</select>
	
	<select id="productlist_bottom_jean" parameterType="int" resultType="product">
		<![CDATA[
		select * from 
		 (select rownum rnum, p.* from
	  	 (select * from product left outer join product_detail on product.product_detail = product_detail.product_detail 
	  	 where category_id = 'bottom_jean' order by product_date desc) p ) 
	   		 where rnum >= ((#{page}-1) * 9+1)  and rnum <= (#{page} * 9)
		]]>
	</select>
	
	<select id="productlist_bottom_pants" parameterType="int" resultType="product">
		<![CDATA[
		select * from 
		 (select rownum rnum, p.* from
	  	 (select * from product left outer join product_detail on product.product_detail = product_detail.product_detail 
	  	 where category_id = 'bottom_pants' order by product_date desc) p) 
	   		 where rnum >= ((#{page}-1) * 9+1)  and rnum <= (#{page} * 9)
		]]>
	</select>
	<select id="productlist_bottom_shorts" parameterType="int" resultType="product">
		<![CDATA[
		select * from 
		 (select rownum rnum,p.* from
	  	 (select * from product left outer join product_detail on product.product_detail = product_detail.product_detail
	  	 where category_id = 'bottom_shorts' order by product_date desc) p ) 
	   		 where rnum >= ((#{page}-1) * 9+1)  and rnum <= (#{page} * 9)
		]]>
	</select>
    <select id="productlist_outer_coat" parameterType="int" resultType="product">
		<![CDATA[
		select * from 
		 (select rownum rnum, p.* from
	  	 (select * from product left outer join product_detail on product.product_detail = product_detail.product_detail 
	  	 where category_id = 'outer_coat' order by product_date desc) p ) 
	   		 where rnum >= ((#{page}-1) * 9+1)  and rnum <= (#{page} * 9)
		]]>
	</select>
	<select id="productlist_outer_jacket" parameterType="int" resultType="product">
		<![CDATA[
		select * from 
		 (select rownum rnum, p.* from
	  	 (select * from product left outer join product_detail on product.product_detail = product_detail.product_detail 
	  	 where category_id = 'outer_jacket' order by product_date desc) p) 
	   		 where rnum >= ((#{page}-1) * 9+1)  and rnum <= (#{page} * 9)
		]]>
	</select>
	<select id="productlist_acc_shoes" parameterType="int" resultType="product">
		<![CDATA[
		select * from 
		 (select rownum rnum,p.* from
	  	 (select * from product left outer join product_detail on product.product_detail = product_detail.product_detail
	  	 where category_id = 'acc_shoes' order by product_date desc) p ) 
	   		 where rnum >= ((#{page}-1) * 9+1)  and rnum <= (#{page} * 9)
		]]>
	</select>
	<select id="productlist_acc_socks" parameterType="int" resultType="product">
		<![CDATA[
		select * from 
		 (select rownum rnum, p.* from
	  	 (select * from product left outer join product_detail on product.product_detail = product_detail.product_detail 
	  	 where category_id = 'acc_socks' order by product_date desc) p ) 
	   		 where rnum >= ((#{page}-1) * 9+1)  and rnum <= (#{page} * 9)
		]]>
	</select>
	<select id="productlist_acc_jewelry" parameterType="int" resultType="product">
		<![CDATA[
		select * from 
		 (select rownum rnum, p.* from
	  	 (select * from product left outer join product_detail on product.product_detail = product_detail.product_detail 
	  	 where category_id = 'acc_jewelry' order by product_date desc) p) 
	   		 where rnum >= ((#{page}-1) * 9+1)  and rnum <= (#{page} * 9)
		]]>
	</select>
	
    <!-- 상품 총 갯수 -->
    <select id ="productcount" parameterType="String" resultType="int">
    	select count(distinct product_name) from product where category_id = #{category}
    </select>
    
    <select id="product_detail" parameterType="int" resultType="product">
    	select * from product left outer join product_detail 
    	on product.product_detail = product_detail.product_detail where product_id = #{product_id}
    </select>
    
</mapper>